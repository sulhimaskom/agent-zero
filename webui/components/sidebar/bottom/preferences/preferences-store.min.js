import{createStore}from"/js/AlpineStore.min.js";import*as css from"/js/css.min.js";import{store as speechStore}from"/components/chat/speech/speech-store.min.js";const model={get autoScroll(){return this._autoScroll},set autoScroll(s){this._autoScroll=s,this._applyAutoScroll(s)},_autoScroll:!0,get darkMode(){return this._darkMode},set darkMode(s){this._darkMode=s,this._applyDarkMode(s)},_darkMode:!0,get speech(){return this._speech},set speech(s){this._speech=s,this._applySpeech(s)},_speech:!1,get showThoughts(){return this._showThoughts},set showThoughts(s){this._showThoughts=s,this._applyShowThoughts(s)},_showThoughts:!0,get showJson(){return this._showJson},set showJson(s){this._showJson=s,this._applyShowJson(s)},_showJson:!1,get showUtils(){return this._showUtils},set showUtils(s){this._showUtils=s,this._applyShowUtils(s)},_showUtils:!1,init(){try{try{const s=localStorage.getItem("darkMode");this._darkMode="false"!==s}catch{this._darkMode=!0}try{const s=localStorage.getItem("speech");this._speech="true"===s}catch{this._speech=!1}this._applyDarkMode(this._darkMode),this._applyAutoScroll(this._autoScroll),this._applySpeech(this._speech),this._applyShowThoughts(this._showThoughts),this._applyShowJson(this._showJson),this._applyShowUtils(this._showUtils)}catch(s){console.error("Failed to initialize preferences store",s)}},_applyAutoScroll(s){},_applyDarkMode(s){s?(document.body.classList.remove("light-mode"),document.body.classList.add("dark-mode")):(document.body.classList.remove("dark-mode"),document.body.classList.add("light-mode"));try{localStorage.setItem("darkMode",s)}catch(s){}},_applySpeech(s){try{localStorage.setItem("speech",s)}catch(s){}s||speechStore.stopAudio()},_applyShowThoughts(s){css.toggleCssProperty(".msg-thoughts","display",s?void 0:"none")},_applyShowJson(s){css.toggleCssProperty(".msg-json","display",s?"block":"none")},_applyShowUtils(s){css.toggleCssProperty(".message-util","display",s?void 0:"none")}};export const store=createStore("preferences",model);